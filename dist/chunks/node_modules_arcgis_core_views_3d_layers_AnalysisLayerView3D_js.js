"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkediting"] = self["webpackChunkediting"] || []).push([["node_modules_arcgis_core_views_3d_layers_AnalysisLayerView3D_js"],{

/***/ "./node_modules/@arcgis/core/views/3d/layers/AnalysisLayerView3D.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/AnalysisLayerView3D.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ d)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ \"./node_modules/@arcgis/core/chunks/tslib.es6.js\");\n/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Collection.js */ \"./node_modules/@arcgis/core/core/Collection.js\");\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/has.js */ \"./node_modules/@arcgis/core/core/has.js\");\n/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Error.js */ \"./node_modules/@arcgis/core/core/Error.js\");\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/maybe.js */ \"./node_modules/@arcgis/core/core/maybe.js\");\n/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ \"./node_modules/@arcgis/core/core/promiseUtils.js\");\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\");\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js\");\n/* harmony import */ var _LayerView3D_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./LayerView3D.js */ \"./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js\");\n/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../layers/LayerView.js */ \"./node_modules/@arcgis/core/views/layers/LayerView.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nconst m=\"analysis-view-handles\";let w=class extends((0,_LayerView3D_js__WEBPACK_IMPORTED_MODULE_8__.LayerView3D)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"])){constructor(e){super(e),this.type=\"analysis-3d\",this.allAnalysisViews=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],this._creatingViewCount=0,this._analysisViewCreationTasks=new Map,this._analysisModules={\"area-measurement\":{module:null},\"direct-line-measurement\":{module:null},\"line-of-sight\":{module:null},slice:{module:null}}}initialize(){for(const e of this.layer.analyses)this._createAnalysisView(e);this.handles.add([this.layer.analyses.on(\"after-add\",(e=>{this._createAnalysisView(e.item)})),this.layer.analyses.on(\"after-remove\",(e=>{const s=this.allAnalysisViews.removeAt(this.allAnalysisViews.findIndex((s=>s.analysis===e.item)));(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(s)&&s.destroy();const i=this._analysisViewCreationTasks.get(e.item);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(i)&&(i.abort(),this._analysisViewCreationTasks.delete(e.item))}))],m)}destroy(){this.handles.remove(m),this.allAnalysisViews.drain((e=>e.destroy())),this._analysisViewCreationTasks.clear(),this._creatingViewCount=0}whenAnalysisView(e){const s=this._analysisViewCreationTasks.get(e);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(s))return s.promise;const t=new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](\"layerview:no-analysisview-for-analysis\",\"The analysis has not been added to the AnalysisLayer of this layer view\",{analysis:e});return Promise.reject(t)}isUpdating(){return 0!==this._creatingViewCount||this.allAnalysisViews.some((e=>e.updating))}_createAnalysisView(e){this._analysisViewCreationTasks.set(e,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.createTask)((s=>this._createAnalysisViewPromise(e,s))))}async _createAnalysisViewPromise(e,s){this._creatingViewCount+=1;const a=e.type,r=this._analysisModules[a];if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isNone)(r.module)){const e=await this._loadAnalysisModule(a);r.module=e}const o=new r.module.default({analysis:e,view:this.view,parent:this});if(await o.when(),this._creatingViewCount-=1,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAborted)(s))throw o.destroy(),new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](\"layerview:no-analysisview-for-analysis\",\"The analysis has not been added to the AnalysisLayer of this layer view\",{analysis:e});return this.allAnalysisViews.add(o),o}_loadAnalysisModule(e){switch(e){case\"area-measurement\":return Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_arcgis_core_chunks_geometryEngineBase_js\"), __webpack_require__.e(\"vendors-node_modules_arcgis_core_views_3d_analysis_AnalysisView3D_js-node_modules_arcgis_core-9598d5\"), __webpack_require__.e(\"vendors-node_modules_arcgis_core_core_Quantity_js-node_modules_arcgis_core_core_quantityForma-bdd136\"), __webpack_require__.e(\"vendors-node_modules_arcgis_core_views_3d_analysis_AreaMeasurement_AreaMeasurementView3D_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../analysis/AreaMeasurement/AreaMeasurementView3D.js */ \"./node_modules/@arcgis/core/views/3d/analysis/AreaMeasurement/AreaMeasurementView3D.js\"));case\"direct-line-measurement\":return Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_arcgis_core_chunks_geometryEngineBase_js\"), __webpack_require__.e(\"vendors-node_modules_arcgis_core_views_3d_analysis_AnalysisView3D_js-node_modules_arcgis_core-9598d5\"), __webpack_require__.e(\"vendors-node_modules_arcgis_core_core_Quantity_js-node_modules_arcgis_core_core_quantityForma-bdd136\"), __webpack_require__.e(\"vendors-node_modules_arcgis_core_views_3d_analysis_DirectLineMeasurement_DirectLineMeasuremen-a6b7c5\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../analysis/DirectLineMeasurement/DirectLineMeasurementView3D.js */ \"./node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/DirectLineMeasurementView3D.js\"));case\"line-of-sight\":return Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_arcgis_core_views_3d_analysis_AnalysisView3D_js-node_modules_arcgis_core-9598d5\"), __webpack_require__.e(\"vendors-node_modules_arcgis_core_views_3d_analysis_LineOfSight_LineOfSightView3D_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../analysis/LineOfSight/LineOfSightView3D.js */ \"./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightView3D.js\"));case\"slice\":return Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_arcgis_core_views_3d_analysis_AnalysisView3D_js-node_modules_arcgis_core-9598d5\"), __webpack_require__.e(\"vendors-node_modules_arcgis_core_layers_buildingSublayers_BuildingComponentSublayer_js\"), __webpack_require__.e(\"vendors-node_modules_arcgis_core_views_3d_interactive_analysisTools_slice_sliceToolUtils_js\"), __webpack_require__.e(\"vendors-node_modules_arcgis_core_views_3d_analysis_Slice_SliceView3D_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../analysis/Slice/SliceView3D.js */ \"./node_modules/@arcgis/core/views/3d/analysis/Slice/SliceView3D.js\"));default:return null}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],w.prototype,\"type\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],w.prototype,\"layer\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],w.prototype,\"allAnalysisViews\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],w.prototype,\"_creatingViewCount\",void 0),w=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)(\"esri.views.3d.layers.AnalysisLayerView3D\")],w);const d=w;\n\n\n//# sourceURL=webpack://editing/./node_modules/@arcgis/core/views/3d/layers/AnalysisLayerView3D.js?");

/***/ })

}]);