"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkediting"] = self["webpackChunkediting"] || []).push([["node_modules_arcgis_core_symbols_support_previewCIMSymbol_js"],{

/***/ "./node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"previewCIMSymbol\": () => (/* binding */ s)\n/* harmony export */ });\n/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/screenUtils.js */ \"./node_modules/@arcgis/core/core/screenUtils.js\");\n/* harmony import */ var _cim_CIMSymbolRasterizer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../cim/CIMSymbolRasterizer.js */ \"./node_modules/@arcgis/core/symbols/cim/CIMSymbolRasterizer.js\");\n/* harmony import */ var _cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cimSymbolUtils.js */ \"./node_modules/@arcgis/core/symbols/support/cimSymbolUtils.js\");\n/* harmony import */ var _renderUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./renderUtils.js */ \"./node_modules/@arcgis/core/symbols/support/renderUtils.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nconst o=new _cim_CIMSymbolRasterizer_js__WEBPACK_IMPORTED_MODULE_1__.CIMSymbolRasterizer(null,!0),n=120;async function s(t,s={}){const{size:c,maxSize:r,node:m,opacity:f}=s,h=s.cimOptions||s,{feature:y,fieldMap:d,geometryType:p,style:u}=h,g=(0,_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_2__.getCIMSymbolSize)(t),w=Math.min(null!=c?c:g,null!=r?r:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.px2pt)(n));w!==g&&(t=t.clone(),(0,_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_2__.scaleCIMSymbolTo)(t,w,{preserveOutlineWidth:!0}));let M=3;t&&t.data&&t.data.symbol&&\"CIMPointSymbol\"!==t.data.symbol.type&&(M=1);const b=await o.rasterizeCIMSymbolAsync(t,y,d,p,{scaleFactor:M,style:u}),C=document.createElement(\"canvas\");C.width=b.imageData.width,C.height=b.imageData.height;C.getContext(\"2d\").putImageData(b.imageData,0,0);let D=C.width/M,I=C.height/M;if(null!=c&&(null==(null==s?void 0:s.scale)||(null==s?void 0:s.scale))){const e=D/I;D=e<=1?Math.ceil(w*e):w,I=e<=1?w:Math.ceil(w/e)}const S=new Image(D,I);S.src=C.toDataURL(),null!=f&&(S.style.opacity=`${f}`);let j=S;if(null!=s.effectView){const e={shape:{type:\"image\",x:0,y:0,width:D,height:I,src:S.src},fill:null,stroke:null,offset:[0,0]};j=(0,_renderUtils_js__WEBPACK_IMPORTED_MODULE_3__.renderSymbol)([[e]],[D,I],{effectView:s.effectView})}return m&&m.appendChild(j),j}\n\n\n//# sourceURL=webpack://editing/./node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js?");

/***/ })

}]);